!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((r=r||self).PDFText={})}(this,(function(r){"use strict";function t(r){var t=0,e=r.length;return{read:function(){var i;return t<e&&(i=r[t],t++),i},seek:function(i){var n;void 0===i&&(i=1);var s=t+i-1;return s<e&&(n=r[s]),{index:t,item:n}},skip:function(r){void 0===r&&(r=1),t+=r},eof:function(){return!(t<e)}}}
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */function e(r){throw r}var i,n,s=void 0,a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView,h=new(a?Uint8Array:Array)(256);for(i=0;256>i;++i){for(var u=o=i,f=7,o=o>>>1;o;o>>>=1)u<<=1,u|=1&o,--f;h[i]=(u<<f&255)>>>0}function c(r){var t,e,i,n,s,h,u,f,o,c,l=r.length,p=0,d=Number.POSITIVE_INFINITY;for(f=0;f<l;++f)r[f]>p&&(p=r[f]),r[f]<d&&(d=r[f]);for(t=1<<p,e=new(a?Uint32Array:Array)(t),i=1,n=0,s=2;i<=p;){for(f=0;f<l;++f)if(r[f]===i){for(h=0,u=n,o=0;o<i;++o)h=h<<1|1&u,u>>=1;for(c=i<<16|f,o=h;o<t;o+=s)e[o]=c;++n}++i,n<<=1,s<<=1}return[e,p,d]}for(n=0;288>n;n++)switch(!0){case 143>=n:case 255>=n:case 279>=n:case 287>=n:break;default:e("invalid literal: "+n)}!function(){function r(r){switch(!0){case 3===r:return[257,r-3,0];case 4===r:return[258,r-4,0];case 5===r:return[259,r-5,0];case 6===r:return[260,r-6,0];case 7===r:return[261,r-7,0];case 8===r:return[262,r-8,0];case 9===r:return[263,r-9,0];case 10===r:return[264,r-10,0];case 12>=r:return[265,r-11,1];case 14>=r:return[266,r-13,1];case 16>=r:return[267,r-15,1];case 18>=r:return[268,r-17,1];case 22>=r:return[269,r-19,2];case 26>=r:return[270,r-23,2];case 30>=r:return[271,r-27,2];case 34>=r:return[272,r-31,2];case 42>=r:return[273,r-35,3];case 50>=r:return[274,r-43,3];case 58>=r:return[275,r-51,3];case 66>=r:return[276,r-59,3];case 82>=r:return[277,r-67,4];case 98>=r:return[278,r-83,4];case 114>=r:return[279,r-99,4];case 130>=r:return[280,r-115,4];case 162>=r:return[281,r-131,5];case 194>=r:return[282,r-163,5];case 226>=r:return[283,r-195,5];case 257>=r:return[284,r-227,5];case 258===r:return[285,r-258,0];default:e("invalid length: "+r)}}var t,i,n=[];for(t=3;258>=t;t++)i=r(t),n[t]=i[2]<<24|i[1]<<16|i[0]}();function l(r,t){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=a?new Uint8Array(r):r,this.s=!1,this.n=d,this.B=!1,!t&&(t={})||(t.index&&(this.c=t.index),t.bufferSize&&(this.m=t.bufferSize),t.bufferType&&(this.n=t.bufferType),t.resize&&(this.B=t.resize)),this.n){case p:this.b=32768,this.a=new(a?Uint8Array:Array)(32768+this.m+258);break;case d:this.b=0,this.a=new(a?Uint8Array:Array)(this.m),this.f=this.J,this.t=this.H,this.o=this.I;break;default:e(Error("invalid inflate mode"))}}var p=0,d=1,y={D:p,C:d};l.prototype.p=function(){for(;!this.s;){var r=B(this,3);switch(1&r&&(this.s=!0),r>>>=1){case 0:var t=this.input,i=this.c,n=this.a,h=this.b,u=t.length,f=s,o=n.length,l=s;switch(this.e=this.g=0,i+1>=u&&e(Error("invalid uncompressed block header: LEN")),f=t[i++]|t[i++]<<8,i+1>=u&&e(Error("invalid uncompressed block header: NLEN")),f===~(t[i++]|t[i++]<<8)&&e(Error("invalid uncompressed block header: length verify")),i+f>t.length&&e(Error("input buffer is broken")),this.n){case p:for(;h+f>n.length;){if(f-=l=o-h,a)n.set(t.subarray(i,i+l),h),h+=l,i+=l;else for(;l--;)n[h++]=t[i++];this.b=h,n=this.f(),h=this.b}break;case d:for(;h+f>n.length;)n=this.f({v:2});break;default:e(Error("invalid inflate mode"))}if(a)n.set(t.subarray(i,i+f),h),h+=f,i+=f;else for(;f--;)n[h++]=t[i++];this.c=i,this.b=h,this.a=n;break;case 1:this.o(C,P);break;case 2:var y,b,v,g,m=B(this,5)+257,w=B(this,5)+1,k=B(this,4)+4,U=new(a?Uint8Array:Array)(A.length),E=s,x=s,N=s,T=s,I=s;for(I=0;I<k;++I)U[A[I]]=B(this,3);if(!a)for(I=k,k=U.length;I<k;++I)U[A[I]]=0;for(y=c(U),E=new(a?Uint8Array:Array)(m+w),I=0,g=m+w;I<g;)switch(x=D(this,y)){case 16:for(T=3+B(this,2);T--;)E[I++]=N;break;case 17:for(T=3+B(this,3);T--;)E[I++]=0;N=0;break;case 18:for(T=11+B(this,7);T--;)E[I++]=0;N=0;break;default:N=E[I++]=x}b=c(a?E.subarray(0,m):E.slice(0,m)),v=c(a?E.subarray(m):E.slice(m)),this.o(b,v);break;default:e(Error("unknown BTYPE: "+r))}}return this.t()};var b,v,g=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=a?new Uint16Array(g):g,m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],w=a?new Uint16Array(m):m,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],U=a?new Uint8Array(k):k,E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],x=a?new Uint16Array(E):E,N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=a?new Uint8Array(N):N,I=new(a?Uint8Array:Array)(288);for(b=0,v=I.length;b<v;++b)I[b]=143>=b?8:255>=b?9:279>=b?7:8;var j,z,C=c(I),S=new(a?Uint8Array:Array)(30);for(j=0,z=S.length;j<z;++j)S[j]=5;var P=c(S);function B(r,t){for(var i,n=r.g,s=r.e,a=r.input,h=r.c,u=a.length;s<t;)h>=u&&e(Error("input buffer is broken")),n|=a[h++]<<s,s+=8;return i=n&(1<<t)-1,r.g=n>>>t,r.e=s-t,r.c=h,i}function D(r,t){for(var i,n,s=r.g,a=r.e,h=r.input,u=r.c,f=h.length,o=t[0],c=t[1];a<c&&!(u>=f);)s|=h[u++]<<a,a+=8;return(n=(i=o[s&(1<<c)-1])>>>16)>a&&e(Error("invalid code length: "+n)),r.g=s>>n,r.e=a-n,r.c=u,65535&i}function F(r,t){var i,n;switch(this.input=r,this.c=0,!t&&(t={})||(t.index&&(this.c=t.index),t.verify&&(this.M=t.verify)),i=r[this.c++],n=r[this.c++],15&i){case O:this.method=O;break;default:e(Error("unsupported compression method"))}0!=((i<<8)+n)%31&&e(Error("invalid fcheck flag:"+((i<<8)+n)%31)),32&n&&e(Error("fdict flag is not supported")),this.A=new l(r,{index:this.c,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})}l.prototype.o=function(r,t){var e=this.a,i=this.b;this.u=r;for(var n,s,a,h,u=e.length-258;256!==(n=D(this,r));)if(256>n)i>=u&&(this.b=i,e=this.f(),i=this.b),e[i++]=n;else for(h=w[s=n-257],0<U[s]&&(h+=B(this,U[s])),n=D(this,t),a=x[n],0<T[n]&&(a+=B(this,T[n])),i>=u&&(this.b=i,e=this.f(),i=this.b);h--;)e[i]=e[i++-a];for(;8<=this.e;)this.e-=8,this.c--;this.b=i},l.prototype.I=function(r,t){var e=this.a,i=this.b;this.u=r;for(var n,s,a,h,u=e.length;256!==(n=D(this,r));)if(256>n)i>=u&&(u=(e=this.f()).length),e[i++]=n;else for(h=w[s=n-257],0<U[s]&&(h+=B(this,U[s])),n=D(this,t),a=x[n],0<T[n]&&(a+=B(this,T[n])),i+h>u&&(u=(e=this.f()).length);h--;)e[i]=e[i++-a];for(;8<=this.e;)this.e-=8,this.c--;this.b=i},l.prototype.f=function(){var r,t,e=new(a?Uint8Array:Array)(this.b-32768),i=this.b-32768,n=this.a;if(a)e.set(n.subarray(32768,e.length));else for(r=0,t=e.length;r<t;++r)e[r]=n[r+32768];if(this.l.push(e),this.q+=e.length,a)n.set(n.subarray(i,i+32768));else for(r=0;32768>r;++r)n[r]=n[i+r];return this.b=32768,n},l.prototype.J=function(r){var t,e,i,n=this.input.length/this.c+1|0,s=this.input,h=this.a;return r&&("number"==typeof r.v&&(n=r.v),"number"==typeof r.F&&(n+=r.F)),2>n?e=(i=(s.length-this.c)/this.u[2]/2*258|0)<h.length?h.length+i:h.length<<1:e=h.length*n,a?(t=new Uint8Array(e)).set(h):t=h,this.a=t},l.prototype.t=function(){var r,t,e,i,n,s=0,h=this.a,u=this.l,f=new(a?Uint8Array:Array)(this.q+(this.b-32768));if(0===u.length)return a?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(t=0,e=u.length;t<e;++t)for(i=0,n=(r=u[t]).length;i<n;++i)f[s++]=r[i];for(t=32768,e=this.b;t<e;++t)f[s++]=h[t];return this.l=[],this.buffer=f},l.prototype.H=function(){var r,t=this.b;return a?this.B?(r=new Uint8Array(t)).set(this.a.subarray(0,t)):r=this.a.subarray(0,t):(this.a.length>t&&(this.a.length=t),r=this.a),this.buffer=r},F.prototype.p=function(){var r,t=this.input;return r=this.A.p(),this.c=this.A.c,this.M&&((t[this.c++]<<24|t[this.c++]<<16|t[this.c++]<<8|t[this.c++])>>>0!==function(r){if("string"==typeof r){var t,e,i=r.split("");for(t=0,e=i.length;t<e;t++)i[t]=(255&i[t].charCodeAt(0))>>>0;r=i}for(var n,s=1,a=0,h=r.length,u=0;0<h;){h-=n=1024<h?1024:h;do{a+=s+=r[u++]}while(--n);s%=65521,a%=65521}return(a<<16|s)>>>0}(r)&&e(Error("invalid adler-32 checksum"))),r};var O=8,Z=F;Z.prototype.decompress=F.prototype.p,Z.BufferType={ADAPTIVE:y.C,BLOCK:y.D};var q=function(r){return isNaN(r)?r:Number(r)},L=/\(D:(\d{4})(\d{2})?(\d{2})?(\d{2})?(\d{2})?(\d{2})?([-+Z])(\d{2})'(\d{2})'\)/;function M(r){var t,e,i=r.read();if("true"===i)return!0;if("false"===i)return!1;if("<<"===i)return function(r,t){for(var e=M(r);">>"!==e;)t[e]=M(r),e=M(r);return t}(r,{});if(/^\/[A-Z0-9]/.test(i))return i.substr(1);if(!isNaN(i)){var n=r.seek(1).item,s=r.seek(2).item;return isNaN(n)||"R"!==s?Number(i):(r.skip(2),i+" "+n+" "+s)}if("["===i.charAt(0)){var a=i.substr(1);return function(r,t){for(var e=M(r),i=!0;i;){var n=/(.*)]$/.exec(e);null===n?(t.push(e),e=M(r)):(""!==n[1]&&t.push(q(n[1])),i=!1)}return t}(r,""===a?[]:[q(a)])}if(L.test(i))return t=i,(e=L.exec(t))[1]+"-"+(e[2]||"00")+"-"+(e[3]||"00")+"T"+(e[4]||"00")+":"+(e[5]||"00")+":"+(e[6]||"00")+".000"+("Z"===e[7]?"Z":e[7]+(e[8]||"00")+":"+(e[9]||"00"));if("("===i.charAt(0)){var h;if(h=/^\((.*)\)$/.exec(i))return h[1];var u=i.substr(1);return function(r,t){for(var e=M(r),i=!0;i;){var n=/(.*)\)$/.exec(e);null===n?(t.push(e),e=r.read()):(""!==n[1]&&t.push(n[1]),i=!1)}return t.join(" ")}(r,""===u?[]:[u])}return i}function R(r){var e=/stream\n([\s\S]+)\nendstream*/,i=e.test(r),n=[],s=null;i&&(r=r.replace(e,(function(r,t){return s=t,""})));for(var a=t(function(r){return r.trim().replace(/\s+/g," ")}(r).split(" "));!a.eof();){var h=M(a);n.push(h)}if(i){var u=function(r){for(var t=r.length,e=new Uint8Array(t),i=0;i<t;i++){var n=r.charCodeAt(i);e[i]=n}return e}(s),f=new Z(u).decompress(),o=Array.prototype.map.call(f,(function(r){return String.fromCharCode(r)})).join("");1===n.length?n[0].stream=o:n.push(o)}return 1===n.length?n[0]:n}var V=/(\d+) \d+ R/;r.parse=function(r){var e=function r(t,e){var i;return"string"==typeof t&&(i=V.exec(t))?r(e[i[1]],e):(Array.isArray(t)?t.filter((function(r){return V.test(r)})).forEach((function(i,n){t[n]=r(i,e)})):"object"==typeof t&&Object.keys(t).filter((function(r){return"Parent"!==r&&V.test(t[r])})).forEach((function(i){var n=t[i];t[i]=r(n,e)})),t)}(function(r){return R(/trailer\s(<<[\s\S]+>>)/.exec(r)[1])}(r),function(r){for(var t,e=/(\d+)\s\d+\sobj\r?\n?/g,i=/\r?\n?endobj/g,n=[""];t=e.exec(r);){var s=t.index+t[0].length,a=i.exec(r).index;a>s&&(n[t[1]]=r.substring(s,a))}return n.map((function(r){return R(r)}))}(r));return{info:e.Info,pages:e.Root.Pages.Kids.map((function(r){return function(r){for(var e,i=t(r),n=!1,s="";e=i.read();)if("("!==e||"\\"===i.seek(-1))if(n)if(")"===e&&"\\"!==i.seek(-1).item)n=!1;else{var a=i.seek().item;"\\"!==e||")"!==a&&"("!==a?s+=e:(s+=a,i.skip())}else"E"===e&&"T"===i.seek().item&&(s+="\n");else n=!0;return s}(r.Contents.stream)}))}},Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=bundle.umd.js.map
